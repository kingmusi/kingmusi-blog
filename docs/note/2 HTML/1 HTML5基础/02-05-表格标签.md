# 表格标签

## 表格标签

| 标签         | 含义及作用 | 特殊                                                         |
| ------------ | ---------- | ------------------------------------------------------------ |
| `<table>`    | 定义表格   |                                                              |
| `<tr>`       | 表格中的行 | 在表格中有几组 tr ，就表示有多少行                           |
| `<td>`       | 普通单元格 | 必须嵌套在 tr 标签中<br /> tr 中包含几对 td，就表示该行有多少个单元格 |
| `<th>`       | 表头单元格 | 必须嵌套在 tr 标签中<br />浏览器中会以 '居中"，"粗体" 的效果显示 |
| `<caption>`  | 表格标题   | 一个表格只有一个标题<br />浏览器中会居中显示文字<br />使用比较少 |
| `<thead>`    | 表头       | 是一个语义标签，不会起到特殊的渲染<br />一个表格只有一个表头 |
| `<tbody>`    | 表身       | 是一个语义标签，不会起到特殊的渲染<br />一个表格可以有多个表头 |
| `<tfoot>`    | 表脚       | 是一个语义标签，不会起到特殊的渲染<br />一个表格只有一个表头 |
| `<colgroup>` | 列定义容器 | 包含多个 `<col>` 标签，一个 `<col>`默认为一列<br />一般用于对列有特殊样式需求，子元素 `<col>` 的样式会对整列生效 |
| `<col>`      | 列申明     | 单独使用的标签，没有结束标志<br />主要用于申明表格结构，并为表格附加样式 |

## 表格常用样式调整

> table 的 HTML属性，在 HTML5 是弃用状态，推荐采用 CSS 实现

| 属性        | 作用             | 值                                                           | 替代CSS写法                                                  |
| ----------- | ---------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| align       | 表格或单元格对齐 | center<br />left<br />right                                  | 整个表格居中：`margin-left/right: auto`<br />单元格水平居中：`text-align`<br />单元格垂直居中：`vertical-align` |
| border      | 设置边框宽度     | number                                                       | 定义边框：`table, th, td{ border: 1px solid #ccc }`<br />边框合并：`table{ border-collapse: collapse }` |
| cellspacing | 控制单元格间距   | number                                                       | 单元格有间距：`table{ border-collapse: separate }`<br />单元格间距：`table{ border-spacing: 10px 5px }` |
| cellpadding | 单元格内边距     | number                                                       | 设置单元格内边距：`td,th{ padding: 10px }`                   |
| rules       | 内部线条控制     | none：没有线条<br />all：显示内部所有线条<br />rows：显示行之间线条<br />cols：显示列之间线条<br />groups：显示行组和列组线条 | 通过 `border-bottom/right` 组合控制行/列分隔线<br />例子：rows 的实现<br />`td{ border-bottom: 1px solid #000 }`<br />`tr:last-child td{ border-bottom: none }` |
| frame       | 外框显示控制     | void: 不显示外边框<br />box：显示所有外边框<br />above：显示上外边框<br />below：显示下外边框<br />lns：显示左侧外边框<br />rhs：显示右侧外边框<br />hsides：显示上下外边框<br />vsides：显示左右外边框 | 通过`border-top/right/bottom/left` 精确控制外边框            |

![](https://cdn.musiblog.com/HTML/HTML5%E5%9F%BA%E7%A1%80/%E8%A1%A8%E6%A0%BC%E5%B8%B8%E7%94%A8%E6%A0%B7%E5%BC%8F.svg)

## 常用表格实现

#### 一、带表头的表格

:::demo

```html
<table>
	<tr>
    	<th>姓名</th>
        <th>性别</th>
        <th>联系方式</th>
    </tr>
    <tr>
    	<td>木厶</td>
        <td>男</td>
        <td>13432665518</td>
    </tr>
    <tr>
    	<td>云烟</td>
        <td>女</td>
        <td>12345678910</td>
    </tr>
</table>
```

```css
table {
    width: 100%;
    border-collapse: collapse;
}
th, td {
    padding: 0.5rem;
    border: 1px solid #e5e7eb;
}
```

:::

#### 二、语义化表格

:::demo

```html
<table>
  <caption>用户信息表</caption>
  <thead>
    <tr>
      <th>姓名</th>
      <th>邮箱</th>
      <th>分数</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>张三</td>
      <td>zhangsan@example.com</td>
      <td>90</td>
    </tr>
    <tr>
      <td>李四</td>
      <td>lisi@example.com</td>
      <td>95</td>
    </tr>
    <tr>
      <td>王五</td>
      <td>wangwu@example.com</td>
      <td>100</td>
    </tr>
  </tbody>
  <tfoot>
    <tr>
      <td>平均分</td>
      <td>-</td>
      <td>95</td>
    </tr>
  </tfoot>
</table>
```

```css
table {
    width: 100%;
    border-collapse: collapse;
}
th, td {
    padding: 0.5rem;
    border: 1px solid #e5e7eb;
}
```

:::

#### 三、合并单元格

- 左右合并使用 `colspan`
- 上下合并使用 `rowspan`

:::demo

```html
<div>
  <table>
    <caption>左右合并</caption>
    <tr>
      <td>1</td>
      <td colspan="2">2</td>
    </tr>
    <tr>
      <td>3</td>
      <td>4</td>
      <td>5</td>
    </tr>
  </table>
  <table>
    <caption>上下合并</caption>
    <tr>
      <td rowspan="2">1</td>
      <td>2</td>
      <td>3</td>
    </tr>
    <tr>
      <td>4</td>
      <td>5</td>
    </tr>
  </table>
</div>
```

```css
div {
    display: flex;
    gap: 8px;
}
table {
    flex: 1;
    border-collapse: collapse;
}
th, td {
    padding: 0.3rem;
    border: 1px solid #e5e7eb;
}
```

:::

#### 四、定制列样式

- `<col>` 可以使用 span 属性合并多个列定义

:::demo

```html
<div>
  <table>
    <caption>定制一行</caption>
    <colgroup>
      <col>
      <col class="col-2">
      <col>
    </colgroup>
    <tr>
      <td>1</td>
      <td>2</td>
      <td>3</td>
    </tr>
    <tr>
      <td>4</td>
      <td>5</td>
      <td>6</td>
    </tr>
  </table>
  <table>
    <caption>定制两行</caption>
    <colgroup>
      <col>
      <col span="2" class="col-2-3">
    </colgroup>
    <tr>
      <td>1</td>
      <td>2</td>
      <td>3</td>
    </tr>
    <tr>
      <td>4</td>
      <td>5</td>
      <td>6</td>
    </tr>
  </table>
</div>
```

```css
div {
    display: flex;
    gap: 8px;
}
table {
    flex: 1;
    border-collapse: collapse;
}
th, td {
    padding: 0.3rem;
    border: 1px solid #e5e7eb;
}
.col-2, .col-2-3 {
    background: pink;
}
```

:::

#### 五、固定表头、列头

- 通过 `position: sticky` 固定滚动时的位置
- 表头通过 `top: 0` 固定在最上面
- 列头通过 `left: 0` 固定在最左边
- 表头和列头的固定，会导致左上角第一个单元格，有交叉重叠的时候，通过对左上角第一个单元格设置 `z-index: 2`，列头单元格设置 `z-index: 1`，实现重叠时，表头优先显示的效果

:::demo

```html
<div>
  <table>
    <thead>
      <tr>
        <th>姓名</th>
        <th>邮箱</th>
        <th>角色</th>
        <th>状态</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>张三</td>
        <td>zhangsan@example.com</td>
        <td>管理员</td>
        <td>活跃</td>
      </tr>
      <tr>
        <td>李四</td>
        <td>lisi@example.com</td>
        <td>编辑</td>
        <td>禁用</td>
      </tr>
      <tr>
        <td>王五</td>
        <td>wangwu@example.com</td>
        <td>访客</td>
        <td>活跃</td>
      </tr>
    </tbody>
  </table>
</div>
```

```less
div {
	width: 300px;
    height: 150px;
    overflow: auto;
    
    table {
        border-collapse: collapse;
    	table-layout: fixed;
    }
    th, td {
        padding: 0.5rem;
        border: 1px solid #e5e7eb;
        white-space: nowrap;
    }
    thead tr th {
        z-index: 1;
        position: sticky;
        top: 0;
        background-color: #fff;
        color: #000;
        &:first-child {
            left: 0;
            z-index: 2;
        }
    }
    tbody tr td:first-child {
        z-index: 1;
        position: sticky;
        left: 0;
        color: #000;
        background-color: #fff;
    }
}
```

:::

#### 六、奇偶行颜色不同，行 hover 颜色聚焦

:::demo

```html
<table>
  <thead>
    <tr>
      <th>姓名</th>
      <th>邮箱</th>
      <th>角色</th>
      <th>状态</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>张三</td>
      <td>zhangsan@example.com</td>
      <td>管理员</td>
      <td>活跃</td>
    </tr>
    <tr>
      <td>李四</td>
      <td>lisi@example.com</td>
      <td>编辑</td>
      <td>禁用</td>
    </tr>
    <tr>
      <td>王五</td>
      <td>wangwu@example.com</td>
      <td>访客</td>
      <td>活跃</td>
    </tr>
  </tbody>
</table>
```

```less
table {
    width: 100%;
    border-collapse: collapse;
    
    td,th {
        padding: 0.3rem;
    }
    
    tbody {
        tr:nth-child(odd) {
            background-color: #f0f9eb;
            color: #000;
        }
        tr {
            background-color: transparent;
        }
        tr:hover {
            background-color: #f1f5f9;
            color: #000;
        }
    }
}
```

:::

