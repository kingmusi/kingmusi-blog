# SVG 描边动画

## 核心原理

描边动画（Line Drawing Animation）能产生一种图案正在被“画”出来的神奇效果。

虽然它依赖 SVG，但动画的控制完全由 CSS 完成。核心基于两个 SVG 属性：

1.  **`stroke-dasharray`**：将线条变为虚线。参数可以是两个值 `10, 5`（实线长10，间隙长5）。如果只设一个值，表示实线和间隙一样长。
2.  **`stroke-dashoffset`**：设置虚线的偏移量。

**系统化原理**：
1.  将 `stroke-dasharray` 设置为**路径的总长度**。此时，线条变成了一段超长的实线（长度等于路径长）和一段超长的间隙（长度也等于路径长）。
2.  初始状态将 `stroke-dashoffset` 设置为**路径的总长度**。此时，可见区域正好被那段“超长的间隙”覆盖，所以整个图形是不可见的。
3.  动画过程中，将 `stroke-dashoffset` 逐渐归 **0**。此时，“超长的实线”慢慢被拉回可见区域，看起来就像线条在自动延伸。

## 实现步骤

### 1. 准备 SVG

需要一个带有 `stroke`（描边）的 SVG。注意，这种动画只对 `<path>`, `<line>`, `<circle>`, `<rect>` 等描边元素有效。

### 2. 获取路径长度

可以通过 JS `path.getTotalLength()` 获取长度

### 3. CSS 动画

:::demo
```html
<svg width="100" height="100" viewBox="0 0 100 100">
  <circle class="path-circle" cx="50" cy="50" r="40" stroke="#4caf50" stroke-width="4" fill="none" />
</svg>
<svg viewBox="0 0 100 100" width="100" height="100">
  <path class="path-check" d="M30 50 L45 65 L70 35" stroke="#4caf50" stroke-width="4" fill="none" />
</svg>
```

```css
circle, path {
  stroke-dasharray: var(--length);
  /* 初始偏移--length，完全隐藏 */
  stroke-dashoffset: var(--length);
  /* 动画：偏移归0 */
  animation: draw-outline 2s ease infinite alternate;
}

@keyframes draw-outline {
  to {
    stroke-dashoffset: 0;
  }
}
```

```js
const circle = document.querySelector('circle')
circle.style.setProperty('--length', circle.getTotalLength())
const path = document.querySelector('path')
path.style.setProperty('--length', path.getTotalLength())
```

:::

## 交互式按钮边框

这种技术常用于 Hover 时的边框效果。

:::demo
```html
<button>
  Hover Me
  <svg class="btn-border" width="100%" height="100%">
    <rect x="0" y="0" width="100%" height="100%" />
  </svg>
</button>
```

```css
button {
  position: relative;
  background: none;
  border: none;
  padding: 15px 30px;
  cursor: pointer;
}

.btn-border {
  position: absolute;
  top: 0;
  left: 0;
  pointer-events: none; /* 避免挡住按钮点击 */
}

.btn-border rect {
  fill: none;
  stroke: #333;
  stroke-width: 4;
  stroke-dasharray: var(--length); 
  stroke-dashoffset: var(--length);
  transition: stroke-dashoffset 0.6s ease;
}

button:hover .btn-border rect {
  stroke-dashoffset: 0;
}
```

```js
const rect = document.querySelector('rect')
rect.style.setProperty('--length', rect.getTotalLength())
```
:::
