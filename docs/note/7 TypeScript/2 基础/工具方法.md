# 工具方法

## typeof

在类型上下文中获取变量或者属性的类型

```typescript
interface Person {
  name: string;
  age: number;
}
const sem: Person = { name: "semlinker", age: 30 };
type Sem = typeof sem; // type Sem = Person
```

## keyof

用于获取某种类型的所有键，其返回类型是联合类型

```typescript
interface Person {
  name: string;
  age: number;
}

type K1 = keyof Person; // "name" | "age"
```

> 常使用场景
>
> ```typescript
> const obj = {
>     name: 'kingmusi',
>     age: 18
> }
> 
> function getValue(key: string {
>     // Error：No index signature with a parameter of type 'string' was found on type '{ name: string; age: number; }'
>     return obj[key]
> }
> 
> function getValue(key: keyof typeof obj) {
>     // ok
>     return obj[key]
> }
> ```

## in

用来遍历枚举类型

```typescript
type Keys = "a" | "b" | "c"

type Obj =  {
  [p in Keys]: any
} // -> { a: any, b: any, c: any }
```

## Partial<> 全部转换成可选类型

```ts
interface User {
	name: string;
	age: number;
}

// 以下两种类型相等
Partial<User> = {
	name?: string;
	age?: number
}
```

## Omit<> 删除某些类型

```ts
interface User {
	name: string;
	age: number;
}

// 删除 name
Omit<User, 'name'>

// 删除多个
Omit<User, 'name' | 'age'>
```

## Pick<> 只要某些类型

```ts
interface User {
	name: string;
	age: number;
}

// 只要 name
Pick<User, 'name'>

// 要多个
Pick<User, 'name' | 'age'>
```

## Record

`Record<K extends keyof any, T>` 的作用是将 `K` 中所有的属性的值转化为 `T` 类型

```typescript
interface PageInfo {
  title: string;
}

type Page = "home" | "about" | "contact";

const x: Record<Page, PageInfo> = {
  about: { title: "about" },
  contact: { title: "contact" },
  home: { title: "home" },
};
```

## ReturnType 用来得到一个函数的返回值类型

```typescript
type Func = (value: number) => string;
const foo: ReturnType<Func> = "1";
```

## Exclude

`Exclude<T, U>` 的作用是将某个类型中属于另一个的类型移除掉

```typescript
type T0 = Exclude<"a" | "b" | "c", "a">; // "b" | "c"
type T1 = Exclude<"a" | "b" | "c", "a" | "b">; // "c"
type T2 = Exclude<string | number | (() => void), Function>; // string | number
```

## Extract

`Extract<T, U>` 的作用是从 `T` 中提取出 `U`

```typescript
type T0 = Extract<"a" | "b" | "c", "a" | "f">; // "a"
type T1 = Extract<string | number | (() => void), Function>; // () =>void
```

## NonNullable

`NonNullable<T>` 的作用是用来过滤类型中的 `null` 及 `undefined` 类型

```typescript
type T0 = NonNullable<string | number | undefined>; // string | number
type T1 = NonNullable<string[] | null | undefined>; // string[]
```

## Parameters

`Parameters<T>` 的作用是用于获得函数的参数类型组成的元组类型



