# 字面量和类型拓宽

## 字面量

- 有 3 种字面量类型：字符串字面量类型、数字字面量类型、布尔字面量类型

```typescript
let specifiedStr: 'this is string' = 'this is string';
let specifiedNum: 1 = 1;
let specifiedBoolean: true = true;
```

- 可以用于限制类型为某几个特定的字面量类型

```typescript
type Direction = 'up' | 'down'

interface Config {
  	size: 'small' | 'default' | 'large'
}
```

## 类型拓宽

- **let** 定义变量会被推断成字面量的父类型，**const** 则会被推断成字面量类型（只针对于三种字面量类型）

```typescript
let s1 = 'a' // 类型：string
const s2 = 'a' // 类型：'a'
```

- 对于对象类型，const 不生效，但可以使用断言 `as const`，使其类型拓宽

```typescript
// name 类型为 string
interface Props {
  	name: 'musi'
}
// name 类型为 'musi'
interface Props {
  	name: 'musi' as const
}
```

```typescript
// 断言多个
interface Props {
  	name: 'musi',
  	id: 1
} as const

// 元祖断言
['musi' as const]
```

> 使用举例
>
> ```typescript
> type Size = 'small' | 'default' | 'large'
> function getConfig(size: Size) {
>   	return size
> }
> ```
>
> ```typescript
> let size = 'small'
> getConfig(size) //  类型“string”的参数不能赋给类型 'small' | 'default' | 'large' 的参数
> 
> const size = 'small'
> getConfig(size) // ok
> ```