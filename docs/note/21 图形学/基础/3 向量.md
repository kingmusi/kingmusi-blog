# å‘é‡

## å®šä¹‰

å‘é‡æ˜¯ä¸€ç§åŒæ—¶å…·æœ‰**å¤§å°**å’Œ**æ–¹å‘**çš„ç‰©ç†é‡

åŒæ—¶å…·æœ‰å¤§å°å’Œæ–¹å‘çš„ç‰©ç†é‡ç§°ä¸ºå‘é‡å€¼ç‰©ç†é‡ã€‚å¸¸è§çš„å‘é‡å€¼ç‰©ç†é‡æœ‰ï¼šåŠ›ï¼ˆåœ¨æŸä¸ªç‰¹å®šæ–¹å‘ä¸Šæ–½åŠ ä¸€å®šçš„ä½œç”¨åŠ›â€”â€”é‡å€¼ï¼‰ï¼Œä½ç§»ï¼ˆåœ¨æŸä¸ªå‡€æ–¹å‘ä¸Šç§»åŠ¨ä¸€æ®µè·ç¦»ï¼‰ï¼Œé€Ÿåº¦ï¼ˆé€Ÿç‡å’Œæ–¹å‘ï¼‰ã€‚å› æ­¤ï¼Œå‘é‡å¯ä»¥ç”¨æ¥è¡¨ç¤ºåŠ›ã€ä½ç§»å’Œé€Ÿåº¦ã€‚æœ‰æ—¶æˆ‘ä»¬ä¹Ÿç”¨å‘é‡æ¥è¡¨ç¤ºä¸€ä¸ªå•ä¸ªæ–¹å‘ã€‚

åœ¨æ•°å­¦ä¸Šï¼Œå†™æ³•æ˜¯**æŠŠå‘é‡çš„èµ·ç‚¹ç»ˆç‚¹å†™åœ¨ä¸€èµ·ï¼Œå†ç”¨ç®­å¤´ç›¸è¿**ï¼Œæ³¨æ„èµ·ç‚¹åœ¨å‰ï¼Œç»ˆç‚¹åœ¨åã€‚

![](https://cdn.jsdelivr.net/gh/kingmusi/blogImages/img/202410280042025.png)

å‘é‡ä¸­çš„æ•°è¡¨ç¤ºäº†æ¯ä¸€ä¸ªç»´åº¦ä¸Šæœ‰æ–¹å‘çš„ä½ç§»ã€‚ä¾‹å¦‚ï¼Œæ²¿xè½´ç§»åŠ¨3åƒç´ ï¼Œæ²¿yè½´ç§»åŠ¨5åƒç´ ã€‚é‚£ä¹ˆè¿™ä¸ªå‘é‡å¯ä»¥è¡¨è¾¾ä¸º[3,5]ï¼Œæ–¹å‘æ˜¯ä»åŸç‚¹æŒ‡å‘ç‚¹ (3, 5)

```typescript
class Vector {
    public x: number;
    public y: number;

    public constructor(x: = 0, y = 0) {
        this.x = x;
        this.y = y;
    }
}
```

## å‘é‡çš„æ¨¡é•¿ï¼ˆé•¿åº¦æˆ–å¤§å°ï¼‰

è¡¨ç¤ºæ–¹æ³•ï¼šå‘é‡é•¿åº¦çš„ç»å¯¹å€¼ï¼Œå¦‚ `|a|`

```typescript
public get norm(): number {
    return Math.hypot(this.x, this.y);
	// return Math.sqrt(this.x * this.x + this.y * this.y);
}
```

> 1. å½“å‘é‡æ¨¡é•¿ä¸º1æ—¶ï¼Œç§°ä¸ºå•ä½å‘é‡
> 2. å½“å‘é‡é•¿åº¦ä¸º0æ—¶ï¼Œè¡¨ç¤ºé›¶å‘é‡

## åŸºç¡€æ¦‚å¿µ

##### 1. ç›¸ç­‰å‘é‡

è‹¥ä¸¤ä¸ªå‘é‡**å¤§å°ç›¸ç­‰ï¼Œæ–¹å‘ä¹Ÿç›¸ç­‰**ï¼Œå³ä¸ºç›¸ç­‰å‘é‡ã€‚ä¸éœ€è¦èµ·å§‹ç»ˆç‚¹æ˜¯ä¸€æ ·çš„ï¼Œ**ç›¸ç­‰å‘é‡å¯ä»¥æ˜¯å¹³ç§»å’Œé‡åˆ**çš„

![](https://cdn.jsdelivr.net/gh/kingmusi/blogImages/img/202410280042781.png)

##### 2. å¹³è¡Œå‘é‡

å½“ä¸¤ä¸ªå‘é‡æ‰€åœ¨ç›´çº¿å¹³è¡Œæ—¶ï¼Œä¸ºå¹³è¡Œå‘é‡ã€‚å‘é‡å¹³è¡Œæœ‰ä¸¤ç§æƒ…å†µï¼šæ–¹å‘ç›¸åŒä¸ç›¸å

> é›¶å‘é‡æ–¹å‘ä»»æ„ï¼Œæ•…å®ƒä¸ä»»ä½•å‘é‡éƒ½å¹³è¡Œ

## å‘é‡çš„æ•°ä¹˜

æ•°ä¹˜ï¼š**å‘é‡ä¸ä¸€ä¸ªç³»æ•°ç›¸ä¹˜**ï¼Œè¿™ä¸ªç³»æ•°å¯ä»¥æ˜¯ä»»ä½•æ•°ï¼Œå¦‚æœæ˜¯ -1ï¼Œå¾—åˆ°ç›¸åå‘é‡
$$
-\vec{AB} = \vec{BA}
$$

```typescript
public multiply(s: number): void {
	this.x *= s;
	this.y *= s;
}
```

## å‘é‡çš„åŠ æ³•

å½“ä¸¤ä¸ªå‘é‡èµ·å§‹ç‚¹ä¸€æ ·æ—¶ï¼ŒåŠ æ³•éµä»**å¹³è¡Œå››è¾¹å½¢æ³•åˆ™**ã€‚å½“ä¸€ä¸ªå‘é‡çš„ç»ˆç‚¹æ˜¯ä¸€ä¸ªå‘é‡çš„èµ·ç‚¹æ—¶ï¼ŒåŠ æ³•éµä»**ä¸‰è§’å½¢æ³•åˆ™**ï¼ˆæœ¬è´¨ä¹Ÿæ˜¯å¹³è¡Œå››è¾¹å½¢æ³•åˆ™ï¼‰

ç”±ä¸‰è§’å½¢æ³•åˆ™ï¼Œå¯ä»¥å°†ä¸€ä¸ªå‘é‡æ‹†ä¸ºå¤šä¸ªå‘é‡ï¼Œä½†å‘é‡é—´è¦é¦–å°¾ç›¸æ¥ï¼Œå¦‚å›¾ä¸­çš„äº”è¾¹å½¢ï¼ˆå³è¿ç®—æ—¶ä¿è¯å‘é‡é—´**ä¸Šä¸€ä¸ªçš„ç»ˆç‚¹ä¸ºä¸‹ä¸€ä¸ªçš„èµ·ç‚¹**ï¼‰

![](https://cdn.jsdelivr.net/gh/kingmusi/blogImages/img/202410280043397.png)

```typescript
public static add(v1: Vector, v2: Vector): Vector {
	return new Vector(v1.x + v2.x, v1.y + v2.y);
}
```

## å‘é‡çš„å‡æ³•

å…±èµ·ç‚¹çš„å‡æ³•è¿ç®—
$$
\vec{OA} - \vec{OB} \\
= \vec{OA} + \vec{BO} \\
= \vec{BO} + \vec{OA} \\
= \vec{BA}
$$
![](https://cdn.jsdelivr.net/gh/kingmusi/blogImages/img/202410280043476.png)

```typescript
public static subtract(v1: Vector, v2: Vector): Vector {
	return new Vector(v1.x - v2.x, v1.y - v2.y);
}
```

## å‘é‡çš„ä¸­çº¿

![](https://cdn.jsdelivr.net/gh/kingmusi/blogImages/img/202410280043273.png)
$$
\vec{OA} + \vec{OB} = 2\vec{OC} \\
\vec{OC} = \frac{1}{2}(\vec{OA} + \vec{OB})
$$

## å‘é‡çš„å½’ä¸€åŒ–ï¼ˆæ ‡å‡†åŒ–ï¼‰

å¾ˆå¤šæ—¶å€™æˆ‘ä»¬è¦åœ¨æ¸¸æˆä¸­ä½¿ç”¨å‘é‡æ¥è¡¨ç¤ºä¸€ä¸ªç‰©ä½“çš„æ–¹å‘ï¼Œè€Œä¸å…³å¿ƒå…¶å¤§å°ã€‚è¿™æ ·æƒ…å†µä¸‹ä½¿ç”¨â€œå•ä½å‘é‡â€å°†éå¸¸æ–¹ä¾¿ã€‚æ‰€è°“å•ä½å‘é‡å°±æ˜¯å¤§å°ä¸º1çš„å‘é‡ã€‚å°†ä¸€ä¸ªå‘é‡å˜æˆå•ä½å‘é‡çš„æ“ä½œæˆ‘ä»¬ç§°ä¹‹ä¸ºå½’ä¸€åŒ–ï¼Œä¹Ÿå«åšæ ‡å‡†åŒ–ã€‚

```typescript
public normalize(): void {
	if (this.norm === 0) {
		return;
	}
	this.multiply(1 / this.norm);
}
```

## å‘é‡æ—‹è½¬

é€†æ—¶é’ˆæ—¶Î¸ä¸ºæ­£æ•°ï¼Œ é¡ºæ—¶é’ˆæ—¶Î¸ä¸ºè´Ÿæ•°

æ¨å¯¼ï¼šä¸‹æ ‡ 0 ä»£è¡¨æ—‹è½¬å‰ï¼Œä¸‹æ ‡ 1 ä»£è¡¨æ—‹è½¬å
$$
\begin{aligned}
x0 = |R| \times cosÎ± \\
y0 = |R| \times sinÎ± \\
x1 = |R| \times cos(Î± + Î¸) \\
y1 = |R| \times sin(Î± + Î¸) \\
\\
x1 = |R| \times (cosÎ±cosÎ¸ - sinÎ±sinÎ¸) \\
y1 = |R| \times (sinÎ±cosÎ¸ + cosÎ±sinÎ¸) \\
\\
x1 = x0 \times cosÎ¸ - y0 \times sinÎ¸ \\
y1 = x0 \times sinÎ¸ + y0 \times cosÎ¸
\end{aligned}
$$

```typescript
public rotate(angle: number): void {
  const x0 = this.x, y0 = this.y
  const cos = Math.cos(angle);
  const sin = Math.sin(andle);
  this.x = x0 * cos - y0 * sin
  this.y = x0 * sin + y0 * cos
}
```

## å‘é‡ç‚¹ä¹˜

ç‚¹ä¹˜çš„å…¬å¼è¡¨ç¤ºä¸ºï¼š`AÂ·B`

ç‚¹ä¹˜çš„ç»“æœä¸º A å‘é‡åœ¨ B å‘é‡ä¸Šçš„æŠ•å½± ä¹˜ä»¥ Bå‘é‡
$$
\begin{aligned}
\vec{A}Â·\vec{B} = |A| \times cosğ›³ \times |B|
\end{aligned}
$$
æ»¡è¶³ä»¥ä¸‹å®šå¾‹ï¼š
$$
\begin{aligned}
\vec{A}Â·\vec{B} = \vec{B}Â·\vec{A} \\
\vec{A}Â·(\vec{B} + \vec{C}) = \vec{A}Â·\vec{B} + \vec{A}Â·\vec{C} \\
(k\vec{A})Â·\vec{B} = \vec{A}Â·(k\vec{B}) = k(\vec{A}Â·\vec{B})
\end{aligned}
$$
ç‚¹ä¹˜è®¡ç®—
$$
\begin{aligned}

	\vec{a}Â·\vec{b} = 

		\begin{pmatrix}
			x_a\\
			y_a\\
			z_a
		\end{pmatrix}
		Â·
		\begin{pmatrix}
			x_b\\
			y_b\\
			z_b
		\end{pmatrix}
		
		=
			
			x_ax_b+y_ay_b+z_az_b

\end{aligned}
$$

```typescript
public static dotProduct(v1: Vector, v2: Vector): number {
	return v1.x * v2.x + v1.y * v2.y;
}
```

#### å‡ ä½•æ„ä¹‰ä¸€ï¼šè®¡ç®—è¿™ä¸¤ä¸ªå‘é‡çš„å¤¹è§’

å°†ä¸¤ä¸ªå‘é‡å½’ä¸€åŒ–åï¼Œè¿›è¡Œç‚¹ä¹˜ï¼Œç»“æœä¸º  `cosğ›³` ï¼ˆAÂ·B = 1 * cosğ›³ * 1 = cosğ›³ï¼‰

```typescript
public static angle(v1: Vector, v2: Vector): number {
	let a = Vector.dotProduct(v1, v2);
	let b = v1.norm * v2.norm;
	let c = a / b;
	let rad = Math.acos(c);
	let deg = rad * 180 / Math.PI;
	return deg;
}
```

#### å‡ ä½•æ„ä¹‰äºŒï¼šåˆ¤æ–­ä¸¤ä¸ªå‘é‡æ˜¯å¦å¤§è‡´éƒ½åœ¨åŒä¸€ä¸ªæ–¹å‘

![](https://cdn.jsdelivr.net/gh/kingmusi/blogImages/img/202411200849593.png)

ä¸Šå›¾çš„ a å’Œ b ç‚¹ä¹˜ä¼šå¤§äº0ï¼Œa å’Œ c ç‚¹ä¹˜ä¼šå°äº0ï¼Œåœ¨è™šçº¿ä¸Šçš„å‘é‡å’Œ a ç‚¹ä¹˜ä¼šç­‰äº 0

>æ€ä¹ˆåˆ¤æ–­ç‰©ä½“æ˜¯å¦åœ¨äººçš„å‰æ–¹è¿˜æ˜¯åæ–¹
>
>å‘é‡aï¼šäººçš„æ­£å‰æ–¹æ–¹å‘å‘é‡
>
>å‘é‡bï¼šäººæŒ‡å‘ç‰©ä½“çš„æ–¹å‘å‘é‡
>
>å‘é‡aå’Œbå¤¹è§’ï¼Œåœ¨0~180åº¦çš„èŒƒå›´å†…çš„å‰æä¸‹ï¼š
>
>å½“ `aÂ·b` å¤§äº 0ï¼Œæ„å‘³ç€ `cosğ›³` å¤§äº 0ï¼Œ`cosğ›³`  å¤§äº 0 æ„å‘³ç€å¤¹è§’ ğ›³ æ˜¯ 0-90 åº¦ï¼Œè¯´æ˜ç‰©ä½“åœ¨äººçš„å‰æ–¹
>
>å½“ `aÂ·b` å°äº 0ï¼Œæ„å‘³ç€ `cosğ›³` å°äº 0ï¼Œ`cosğ›³`  å°äº 0 æ„å‘³ç€å¤¹è§’ ğ›³ æ˜¯ 90-180 åº¦ï¼Œè¯´æ˜ç‰©ä½“åœ¨äººçš„åæ–¹

#### å‡ ä½•æ„ä¹‰ä¸‰ï¼šä¸¤ä¸ªå‘é‡çš„æ¥è¿‘ç¨‹åº¦

`A Â· B` è¶Šæ¥è¿‘ `1`ï¼Œä¸¤è€…è¶Šæ¥è¿‘

`A Â· B` ä¸º `0`ï¼Œä¸¤è€…å‚ç›´

`A Â· B` è¶Šæ¥è¿‘ `-1`ï¼Œä¸¤è€…è¶Šè¿œç¦»ï¼Œç›´åˆ°æœ€åä¸º `-1`ï¼Œåˆ™ä¸¤ä¸ªå‘é‡å®Œå…¨ç›¸å

## å‘é‡å‰ä¹˜

å‘é‡å‰ä¹˜å…¬å¼ï¼š
$$
\begin{aligned}
c.x = a.y \times b.z - a.z \times b.y \\
c.y = a.z \times b.x - a.x \times b.z \\
c.z = a.x \times b.y - a,y \times b.x \\
\end{aligned}
$$
å‰ä¹˜ä¹Ÿæ»¡è¶³ä»¥ä¸‹å…¬å¼ï¼ˆ**çŸ©é˜µæ›´å®¹æ˜“è®°**)
$$
\begin{aligned}
\vec{a} \times \vec{b} = 
	\begin{pmatrix}
	0 & -z_a & y_a\\
	z_a & 0 & -x_a\\
	-y_a & x_a & 0
	\end{pmatrix}
	
	\begin{pmatrix}
	x_b\\
	y_b\\
	z_b
	\end{pmatrix}
\end{aligned}
$$


æ»¡è¶³ä»¥ä¸‹å®šå¾‹ï¼š

1. æ²¡æœ‰äº¤æ¢å¾‹
2. æœ‰åˆ†é…å¾‹å’Œç»“åˆå¾‹

$$
\begin{aligned}
\vec{a} \times \vec{b} = -\vec{b} \times \vec{a}
\vec{a} \times \vec{a} = \vec{0} \\
\vec{a} \times (\vec{b} + \vec{c}) = \vec{a} \times \vec{b} + \vec{a} + \vec{c} \\
\vec{a} \times (k \vec{b}) = k(\vec{a} \times \vec{b})
\end{aligned}
$$



#### å‡ ä½•æ„ä¹‰ä¸€ï¼šè®¡ç®— Z è½´åæ ‡

$$
\begin{aligned}
\vec{x} \times \vec{y} = +\vec{z}
\vec{y} \times \vec{x} = -\vec{z}
\end{aligned}
$$



#### å‡ ä½•æ„ä¹‰äºŒï¼šå³æ‰‹èºæ—‹å®šåˆ™åˆ¤æ–­æ–¹å‘

æ–¹å‘ï¼šc å‘é‡çš„æ–¹å‘ä¼šå‚ç›´äº a å’Œ b å‘é‡ï¼Œå‚ç›´æ˜¯å‘ä¸Šè¿˜æ˜¯å‘ä¸‹ï¼Œæ ¹æ®**å³æ‰‹èºæ—‹æ³•åˆ™**åˆ¤æ–­ï¼Œå¦‚æœæ˜¯ a å‰ä¹˜ bï¼Œåˆ™å³æ‰‹ä» a å‘ b æ¡æ‹³ï¼Œæ‹‡æŒ‡æ–¹ä½å³ä¸º c çš„æ–¹å‘ã€‚

#### å‡ ä½•æ„ä¹‰ä¸‰ï¼šåˆ¤æ–­å·¦å’Œå³

åˆ¤æ–­ç‰©å“Aåœ¨ç‰©å“Bçš„å·¦è¾¹è¿˜æ˜¯å³è¾¹ï¼Œè®¡ç®—ç‰©å“Açš„æ–¹å‘å‘é‡ï¼Œå’ŒABå‘é‡ï¼Œè¿™ä¸¤ä¸ªå‘é‡å½’ä¸€åŒ–çš„å‰ä¹˜å°äºé›¶å’Œå¤§äºé›¶åˆ†åˆ«å¯èƒ½åœ¨å·¦è¾¹æˆ–å³è¾¹

#### å‡ ä½•æ„ä¹‰å››ï¼šåˆ¤æ–­å†…å’Œå¤–

![](https://cdn.jsdelivr.net/gh/kingmusi/blogImages/img/202411200911270.png)

å¦‚ä¸Šå›¾ï¼Œ P ç‚¹åœ¨ä¸‰è§’å½¢ ABC çš„å†…éƒ¨ï¼Œåˆ™ä»é€†æ—¶é’ˆæ–¹å‘ï¼ˆA -> B -> Cï¼‰

ä¸€å®šæœ‰ä»¥ä¸‹ä¸‰ä¸ªå‰ä¹˜ï¼Œæ–¹å‘ä¸€æ ·
$$
\begin{aligned}
\vec{AB} \times \vec{AP} \\
\vec{BC} \times \vec{BP} \\
\vec{CA} \times \vec{CP}
\end{aligned}
$$

> é¡ºæ—¶é’ˆä¹Ÿä¸€æ ·ï¼Œä¹Ÿä¼šæ–¹å‘ä¸€æ ·
> ç‚¹åœ¨è¾¹ä¸Šï¼Œåˆ™å‰ä¹˜ç»“æœä¸º 0

#### jå‡ ä½•æ„ä¹‰å››ï¼šè®¡ç®—ä¸‰è§’å½¢è¡¨é¢ç§¯

å¤§å°ï¼š`cçš„æ¨¡ = Açš„æ¨¡ Ã— Bçš„æ¨¡ Ã— sinğ›³`

è®¡ç®—ä¸‰è§’å½¢è¡¨é¢ç§¯ï¼Œ`cçš„æ¨¡ = ä¸‰è§’å½¢è¡¨é¢ç§¯ * 2`

## å‘é‡ç±»ä¸­ä¸€äº›æ–¹ä¾¿çš„æ¥å£

```typescript
/**
 * å¤åˆ¶å¦å¤–ä¸€ä¸ªå‘é‡çš„å€¼
 */
public copy(v: Vector): void {
    this.x = v.x;
    this.y = v.y;
}

/**
 * è®¾ç½®å‘é‡çš„å€¼
 */
public setTo(x: number, y: number): void {
    this.x = x;
    this.y = y;
}

/**
 * æ–°å»ºä¸€ä¸ªå‘é‡ï¼ŒVector(1, 1)
 */
public static one(): Vector {
    return new Vector(1, 1);
}

/**
 * æ–°å»ºä¸€ä¸ªå‘é‡ï¼ŒVector(0, 0)
 */
public static zero(): Vector {
    return new Vector(0, 0);
}

/**
 * æ–°å»ºä¸€ä¸ªå‘é‡ï¼ŒVector(-1, 0)
 */
public static left(): Vector {
    return new Vector(-1, 0);
}

/**
 * æ–°å»ºä¸€ä¸ªå‘é‡ï¼ŒVector(1, 0)
 */
public static right(): Vector {
    return new Vector(1, 0);
}

/**
 * æ–°å»ºä¸€ä¸ªå‘é‡ï¼ŒVector(0, 1)
 */
public static down(): Vector {
    return new Vector(0, 1);
}

/**
 * æ–°å»ºä¸€ä¸ªå‘é‡ï¼ŒVector(0, -1)
 */
public static up(): Vector {
    return new Vector(0, -1);
}
```

